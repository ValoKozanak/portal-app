{"version":3,"file":"static/js/563.f8ebf5a5.chunk.js","mappings":"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","sources":["components/AccountantDropboxSelector.tsx","pages/AccountantDropboxPage.tsx","pages/AccountantTasksPage.tsx","pages/AccountantFilesPage.tsx","pages/AccountantCompaniesPage.tsx","components/Calendar.tsx","pages/AccountantCalendarPage.tsx","pages/AccountantMessagesPage.tsx","pages/AccountantDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BuildingOfficeIcon, FolderIcon, EyeIcon } from '@heroicons/react/24/outline';\r\nimport DropboxIntegration from './DropboxIntegration';\r\n\r\ninterface DropboxCompany {\r\n  id: number;\r\n  companyId: number;\r\n  companyEmail: string;\r\n  companyName: string;\r\n  companyICO: string;\r\n  folderPath: string;\r\n  shareLink: string;\r\n  isShared: boolean;\r\n  permissions: {\r\n    canView: boolean;\r\n    canEdit: boolean;\r\n    canUpload: boolean;\r\n    canDelete: boolean;\r\n  };\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface AccountantDropboxSelectorProps {\r\n  userEmail: string;\r\n}\r\n\r\nconst AccountantDropboxSelector: React.FC<AccountantDropboxSelectorProps> = ({ userEmail }) => {\r\n  const [companies, setCompanies] = useState<DropboxCompany[]>([]);\r\n  const [selectedCompany, setSelectedCompany] = useState<DropboxCompany | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadDropboxCompanies();\r\n  }, []);\r\n\r\n  const loadDropboxCompanies = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch('http://localhost:5000/api/dropbox/admin/all-settings');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setCompanies(data.settings);\r\n      } else {\r\n        setError('Chyba pri načítaní firiem s Dropbox zložkami');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading dropbox companies:', error);\r\n      setError('Chyba pri načítaní firiem s Dropbox zložkami');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCompanySelect = (company: DropboxCompany) => {\r\n    setSelectedCompany(company);\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedCompany(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        <span className=\"ml-3 text-gray-600\">Načítavam firmy s Dropbox zložkami...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"flex-shrink-0\">\r\n            <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">Chyba</h3>\r\n            <p className=\"text-sm text-red-700 mt-1\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (selectedCompany) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Header s návratom */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <button\r\n              onClick={handleBackToList}\r\n              className=\"text-blue-600 hover:text-blue-800 font-medium\"\r\n            >\r\n              ← Späť na zoznam firiem\r\n            </button>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">{selectedCompany.companyName}</h2>\r\n            <p className=\"text-sm text-gray-600\">{selectedCompany.companyEmail}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Dropbox Integration pre vybranú firmu */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Dropbox súbory</h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">\r\n              Zložka: {selectedCompany.folderPath}\r\n            </p>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            <DropboxIntegration\r\n              companyId={selectedCompany.companyId}\r\n              userEmail={userEmail}\r\n              companyEmail={selectedCompany.companyEmail}\r\n              isCompanyView={true}\r\n              userRole=\"accountant\"\r\n              companyName={selectedCompany.companyName}\r\n              companyICO={selectedCompany.companyICO}\r\n              onFileSelect={(file) => {\r\n            \r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">Firmy s Dropbox zložkami</h2>\r\n          <p className=\"text-sm text-gray-600 mt-1\">\r\n            Vyberte firmu pre zobrazenie jej Dropbox súborov\r\n          </p>\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          {companies.length} firiem s Dropbox zložkami\r\n        </div>\r\n      </div>\r\n\r\n      {/* Zoznam firiem */}\r\n      {companies.length === 0 ? (\r\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center\">\r\n          <FolderIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Žiadne firmy s Dropbox zložkami</h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Zatiaľ neboli vytvorené žiadne Dropbox zložky pre firmy.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {companies.map((company) => (\r\n            <div\r\n              key={company.id}\r\n              className=\"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer\"\r\n              onClick={() => handleCompanySelect(company)}\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <BuildingOfficeIcon className=\"h-8 w-8 text-blue-500\" />\r\n                    <div>\r\n                      <h3 className=\"text-lg font-medium text-gray-900\">\r\n                        {company.companyName}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">{company.companyEmail}</p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"mt-4 space-y-2\">\r\n                    <div className=\"flex items-center text-sm text-gray-600\">\r\n                      <FolderIcon className=\"h-4 w-4 mr-2\" />\r\n                      <span className=\"font-mono text-xs\">{company.folderPath}</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-4 text-xs\">\r\n                      <span className={`px-2 py-1 rounded-full ${\r\n                        company.isShared \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {company.isShared ? 'Zdieľané' : 'Nezdieľané'}\r\n                      </span>\r\n                      \r\n                      <span className=\"text-gray-500\">\r\n                        Aktualizované: {new Date(company.updatedAt).toLocaleDateString('sk-SK')}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <EyeIcon className=\"h-5 w-5 text-gray-400\" />\r\n              </div>\r\n              \r\n              <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n                <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                  <span>Oprávnenia:</span>\r\n                  <div className=\"flex space-x-1\">\r\n                    {company.permissions.canView && (\r\n                      <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded\">Zobraziť</span>\r\n                    )}\r\n                    {company.permissions.canEdit && (\r\n                      <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded\">Upraviť</span>\r\n                    )}\r\n                    {company.permissions.canUpload && (\r\n                      <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded\">Nahrať</span>\r\n                    )}\r\n                    {company.permissions.canDelete && (\r\n                      <span className=\"px-2 py-1 bg-red-100 text-red-800 rounded\">Vymazať</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantDropboxSelector;\r\n","import React from 'react';\r\nimport { ArrowLeftIcon } from '@heroicons/react/24/outline';\r\nimport AccountantDropboxSelector from '../components/AccountantDropboxSelector';\r\n\r\ninterface AccountantDropboxPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantDropboxPage: React.FC<AccountantDropboxPageProps> = ({ userEmail, onBack }) => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Dropbox integrácia</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Správa súborov cez Dropbox pre všetky priradené firmy\r\n          </p>\r\n        </div>\r\n\r\n        {/* Dropbox Selector */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"p-6\">\r\n            <AccountantDropboxSelector userEmail={userEmail} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantDropboxPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon, CogIcon, BuildingOfficeIcon, CalendarIcon } from '@heroicons/react/24/outline';\r\nimport { Company, apiService } from '../services/apiService';\r\nimport TaskModal, { Task } from '../components/TaskModal';\r\n\r\ninterface AccountantTasksPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantTasksPage: React.FC<AccountantTasksPageProps> = ({ userEmail, onBack }) => {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [assignedTasks, setAssignedTasks] = useState<Task[]>([]);\r\n  const [loadingTasks, setLoadingTasks] = useState(true);\r\n  const [showTaskModal, setShowTaskModal] = useState(false);\r\n  const [editingTask, setEditingTask] = useState<Task | null>(null);\r\n  const [taskFilter, setTaskFilter] = useState<string>('all');\r\n\r\n  useEffect(() => {\r\n    loadAccountantData();\r\n  }, [userEmail]);\r\n\r\n  const loadAccountantData = async () => {\r\n    try {\r\n      const assignedCompanies = await apiService.getAccountantCompanies(userEmail);\r\n      setCompanies(assignedCompanies);\r\n\r\n      const companyTasksArrays = await Promise.all(\r\n        assignedCompanies.map((company) => apiService.getCompanyTasks(company.id))\r\n      );\r\n      const allCompanyTasks = companyTasksArrays.flat();\r\n\r\n      const convertedTasks: Task[] = allCompanyTasks.map(apiTask => ({\r\n        id: apiTask.id.toString(),\r\n        title: apiTask.title,\r\n        description: apiTask.description || '',\r\n        status: apiTask.status,\r\n        priority: apiTask.priority,\r\n        assignedTo: apiTask.assigned_to,\r\n        dueDate: apiTask.due_date || '',\r\n        createdAt: apiTask.created_at,\r\n        createdBy: apiTask.created_by,\r\n        category: 'other',\r\n        companyId: apiTask.company_id,\r\n        companyName: apiTask.company_name\r\n      }));\r\n      setAssignedTasks(convertedTasks);\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní dát účtovníka:', error);\r\n    } finally {\r\n      setLoadingTasks(false);\r\n    }\r\n  };\r\n\r\n  const handleAddTask = () => {\r\n    if (companies.length === 0) {\r\n      alert('Nemáte priradené žiadne firmy. Kontaktujte administrátora.');\r\n      return;\r\n    }\r\n    setEditingTask(null);\r\n    setShowTaskModal(true);\r\n  };\r\n\r\n  const handleEditTask = (task: Task) => {\r\n    setEditingTask(task);\r\n    setShowTaskModal(true);\r\n  };\r\n\r\n  const handleSaveTask = async (taskData: any) => {\r\n    try {\r\n      if (editingTask) {\r\n        const updateData = {\r\n          title: taskData.title,\r\n          description: taskData.description,\r\n          status: taskData.status,\r\n          priority: taskData.priority,\r\n          assigned_to: taskData.assignedToEmail || taskData.assignedTo,\r\n          due_date: taskData.dueDate,\r\n          category: taskData.category,\r\n          estimated_hours: taskData.estimatedHours\r\n        };\r\n        await apiService.updateTask(parseInt(editingTask.id), updateData);\r\n        setAssignedTasks(prev => prev.map(task => \r\n          task.id === editingTask.id \r\n            ? { ...task, ...taskData }\r\n            : task\r\n        ));\r\n      } else {\r\n        if (taskData.companyId && companies.length > 0) {\r\n          const selectedCompany = companies.find(c => c.id === taskData.companyId);\r\n          if (selectedCompany) {\r\n            const response = await apiService.createTask({\r\n              title: taskData.title,\r\n              description: taskData.description,\r\n              status: taskData.status,\r\n              priority: taskData.priority,\r\n              assigned_to: taskData.assignedToEmail || taskData.assignedTo,\r\n              company_id: selectedCompany.id,\r\n              company_name: selectedCompany.name,\r\n              created_by: userEmail,\r\n              due_date: taskData.dueDate\r\n            });\r\n            \r\n            const newTask = {\r\n              id: response.taskId.toString(),\r\n              title: taskData.title,\r\n              description: taskData.description,\r\n              status: taskData.status,\r\n              priority: taskData.priority,\r\n              assignedTo: taskData.assignedTo,\r\n              dueDate: taskData.dueDate,\r\n              createdAt: new Date().toISOString(),\r\n              createdBy: userEmail,\r\n              category: taskData.category,\r\n              companyId: selectedCompany.id,\r\n              companyName: selectedCompany.name\r\n            };\r\n            \r\n            setAssignedTasks(prev => [...prev, newTask]);\r\n          }\r\n        }\r\n      }\r\n      \r\n      setShowTaskModal(false);\r\n      setEditingTask(null);\r\n    } catch (error) {\r\n      console.error('Chyba pri ukladaní úlohy:', error);\r\n      alert('Chyba pri ukladaní úlohy');\r\n    }\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId: string) => {\r\n    if (window.confirm('Naozaj chcete vymazať túto úlohu?')) {\r\n      try {\r\n        await apiService.deleteTask(parseInt(taskId));\r\n        setAssignedTasks(prev => prev.filter(task => task.id !== taskId));\r\n      } catch (error) {\r\n        console.error('Chyba pri mazaní úlohy:', error);\r\n        alert('Chyba pri mazaní úlohy');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdateTaskStatus = (taskId: string, newStatus: Task['status']) => {\r\n    setAssignedTasks(prev => prev.map(task => \r\n      task.id === taskId ? { ...task, status: newStatus } : task\r\n    ));\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const colors = {\r\n      pending: 'bg-yellow-100 text-yellow-800',\r\n      completed: 'bg-green-100 text-green-800',\r\n      in_progress: 'bg-blue-100 text-blue-800',\r\n      cancelled: 'bg-gray-100 text-gray-800',\r\n    };\r\n    const labels = {\r\n      pending: 'Čakajúce',\r\n      completed: 'Dokončené',\r\n      in_progress: 'V spracovaní',\r\n      cancelled: 'Zrušené',\r\n    };\r\n    return (\r\n      <span className={`px-2 py-1 text-xs font-medium rounded-full ${colors[status as keyof typeof colors]}`}>\r\n        {labels[status as keyof typeof labels]}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const getPriorityBadge = (priority: string) => {\r\n    const colors = {\r\n      urgent: 'bg-red-100 text-red-800',\r\n      high: 'bg-orange-100 text-orange-800',\r\n      medium: 'bg-yellow-100 text-yellow-800',\r\n      low: 'bg-green-100 text-green-800',\r\n    };\r\n    const labels = {\r\n      urgent: 'Urgentná',\r\n      high: 'Vysoká',\r\n      medium: 'Stredná',\r\n      low: 'Nízka',\r\n    };\r\n    return (\r\n      <span className={`px-2 py-1 text-xs font-medium rounded-full ${colors[priority as keyof typeof colors]}`}>\r\n        {labels[priority as keyof typeof labels]}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const filteredTasks = assignedTasks.filter(task => {\r\n    if (taskFilter === 'all') return true;\r\n    if (taskFilter === 'pending') return task.status === 'pending';\r\n    if (taskFilter === 'in_progress') return task.status === 'in_progress';\r\n    if (taskFilter === 'completed') return task.status === 'completed';\r\n    if (taskFilter === 'cancelled') return task.status === 'cancelled';\r\n    return true;\r\n  });\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Úlohy zo všetkých priradených firiem</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Celkovo {assignedTasks.length} úloh z {companies.length} firiem\r\n          </p>\r\n        </div>\r\n\r\n        {/* Task Management */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900\">Správa úloh</h2>\r\n            </div>\r\n            <button\r\n              onClick={handleAddTask}\r\n              disabled={companies.length === 0}\r\n              className={`px-4 py-2 rounded-md flex items-center ${\r\n                companies.length === 0 \r\n                  ? 'bg-gray-400 text-gray-200 cursor-not-allowed' \r\n                  : 'bg-primary-600 text-white hover:bg-primary-700'\r\n              }`}\r\n            >\r\n              <CogIcon className=\"h-5 w-5 mr-2\" />\r\n              {companies.length === 0 ? 'Žiadne firmy' : 'Pridať úlohu'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Task Filter */}\r\n          <div className=\"px-6 py-3 border-b border-gray-200 bg-gray-50\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Filter:</span>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => setTaskFilter('all')}\r\n                  className={`px-3 py-1 text-sm rounded-md ${\r\n                    taskFilter === 'all'\r\n                      ? 'bg-primary-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                  }`}\r\n                >\r\n                  Všetky ({assignedTasks.length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setTaskFilter('pending')}\r\n                  className={`px-3 py-1 text-sm rounded-md ${\r\n                    taskFilter === 'pending'\r\n                      ? 'bg-yellow-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                  }`}\r\n                >\r\n                  Čakajúce ({assignedTasks.filter(t => t.status === 'pending').length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setTaskFilter('in_progress')}\r\n                  className={`px-3 py-1 text-sm rounded-md ${\r\n                    taskFilter === 'in_progress'\r\n                      ? 'bg-blue-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                  }`}\r\n                >\r\n                  V spracovaní ({assignedTasks.filter(t => t.status === 'in_progress').length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setTaskFilter('completed')}\r\n                  className={`px-3 py-1 text-sm rounded-md ${\r\n                    taskFilter === 'completed'\r\n                      ? 'bg-green-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                  }`}\r\n                >\r\n                  Dokončené ({assignedTasks.filter(t => t.status === 'completed').length})\r\n                </button>\r\n                <button\r\n                  onClick={() => setTaskFilter('cancelled')}\r\n                  className={`px-3 py-1 text-sm rounded-md ${\r\n                    taskFilter === 'cancelled'\r\n                      ? 'bg-gray-600 text-white'\r\n                      : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                  }`}\r\n                >\r\n                  Zrušené ({assignedTasks.filter(t => t.status === 'cancelled').length})\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {loadingTasks ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n                <p className=\"mt-4 text-gray-600\">Načítavam úlohy...</p>\r\n              </div>\r\n            ) : filteredTasks.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {filteredTasks.map((task) => (\r\n                  <div key={task.id} className=\"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{task.title}</h3>\r\n                        <p className=\"text-sm text-gray-600 mb-3\">{task.description}</p>\r\n                        \r\n                        <div className=\"flex items-center space-x-4 text-sm text-gray-500 mb-3\">\r\n                          <div className=\"flex items-center\">\r\n                            <BuildingOfficeIcon className=\"h-4 w-4 mr-1\" />\r\n                            <span>{task.companyName}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center\">\r\n                            <CalendarIcon className=\"h-4 w-4 mr-1\" />\r\n                            <span>Termín: {new Date(task.dueDate).toLocaleDateString('sk-SK')}</span>\r\n                          </div>\r\n                          {task.estimatedHours && (\r\n                            <div>\r\n                              <span>Odhad: {task.estimatedHours}h</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex flex-col items-end space-y-2 ml-4\">\r\n                        {getStatusBadge(task.status)}\r\n                        {getPriorityBadge(task.priority)}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        Vytvoril: {task.createdBy} | Kategória: {task.category}\r\n                      </div>\r\n                      <div className=\"flex space-x-2\">\r\n                        {task.status === 'pending' && (\r\n                          <button\r\n                            onClick={() => handleUpdateTaskStatus(task.id, 'in_progress')}\r\n                            className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n                          >\r\n                            Začať prácu\r\n                          </button>\r\n                        )}\r\n                        {task.status === 'in_progress' && (\r\n                          <button\r\n                            onClick={() => handleUpdateTaskStatus(task.id, 'completed')}\r\n                            className=\"text-green-600 hover:text-green-700 text-sm font-medium\"\r\n                          >\r\n                            Dokončiť\r\n                          </button>\r\n                        )}\r\n                        <button\r\n                          onClick={() => handleEditTask(task)}\r\n                          className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n                        >\r\n                          Upraviť\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteTask(task.id)}\r\n                          className=\"text-red-600 hover:text-red-700 text-sm font-medium\"\r\n                        >\r\n                          Vymazať\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : companies.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <BuildingOfficeIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nemáte priradené firmy</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">Kontaktujte administrátora, aby vám priradil firmy.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <CogIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n                  {taskFilter === 'all' ? 'Žiadne úlohy' : 'Žiadne úlohy s vybraným filtrom'}\r\n                </h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  {taskFilter === 'all' \r\n                    ? 'Zatiaľ nemáte žiadne úlohy od priradených firiem.' \r\n                    : 'Skúste zmeniť filter alebo sa vrátiť na \"Všetky\"'\r\n                  }\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Task Modal */}\r\n        {companies.length > 0 && (\r\n          <TaskModal\r\n            isOpen={showTaskModal}\r\n            onClose={() => {\r\n              setShowTaskModal(false);\r\n              setEditingTask(null);\r\n            }}\r\n            onSave={handleSaveTask}\r\n            task={editingTask}\r\n            companyEmployees={[]}\r\n            company={{ id: companies[0].id, name: companies[0].name }}\r\n            isAccountant={true}\r\n            assignedCompanies={companies}\r\n            userEmail={userEmail}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantTasksPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon, DocumentTextIcon, BuildingOfficeIcon, FolderIcon } from '@heroicons/react/24/outline';\r\nimport { Company, apiService } from '../services/apiService';\r\nimport FileUploadModal from '../components/FileUploadModal';\r\nimport FilePreviewModal from '../components/FilePreviewModal';\r\n\r\ninterface AccountantFilesPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantFilesPage: React.FC<AccountantFilesPageProps> = ({ userEmail, onBack }) => {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [documents, setDocuments] = useState<any[]>([]);\r\n  const [loadingDocuments, setLoadingDocuments] = useState(true);\r\n  const [showFileUploadModal, setShowFileUploadModal] = useState(false);\r\n  const [showFilePreviewModal, setShowFilePreviewModal] = useState(false);\r\n  const [previewFile, setPreviewFile] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    loadAccountantData();\r\n  }, [userEmail]);\r\n\r\n  const loadAccountantData = async () => {\r\n    try {\r\n      const assignedCompanies = await apiService.getAccountantCompanies(userEmail);\r\n      setCompanies(assignedCompanies);\r\n\r\n      const allDocuments: any[] = [];\r\n      for (const company of assignedCompanies) {\r\n        try {\r\n          const companyFiles = await apiService.getCompanyFiles(company.id);\r\n          allDocuments.push(...companyFiles);\r\n        } catch (error) {\r\n          console.error(`Chyba pri načítaní dokumentov pre firmu ${company.id}:`, error);\r\n        }\r\n      }\r\n      setDocuments(allDocuments);\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní dát účtovníka:', error);\r\n    } finally {\r\n      setLoadingDocuments(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadFile = () => {\r\n    if (companies.length === 0) {\r\n      alert('Nemáte priradené žiadne firmy. Kontaktujte administrátora.');\r\n      return;\r\n    }\r\n    setShowFileUploadModal(true);\r\n  };\r\n\r\n  const handleFilePreview = (file: any) => {\r\n    setPreviewFile(file);\r\n    setShowFilePreviewModal(true);\r\n  };\r\n\r\n  const handleFileUpload = async (fileData: any) => {\r\n    try {\r\n      await loadAccountantData();\r\n      setShowFileUploadModal(false);\r\n    } catch (error) {\r\n      console.error('Chyba pri nahrávaní súboru:', error);\r\n      alert('Chyba pri nahrávaní súboru');\r\n    }\r\n  };\r\n\r\n  const handleDeleteDocument = async (fileId: number) => {\r\n    if (window.confirm('Naozaj chcete vymazať tento dokument?')) {\r\n      try {\r\n        await apiService.deleteFile(fileId);\r\n        setDocuments(prev => prev.filter(doc => doc.id !== fileId));\r\n      } catch (error) {\r\n        console.error('Chyba pri mazaní dokumentu:', error);\r\n        alert('Chyba pri mazaní dokumentu');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Súbory zo všetkých priradených firiem</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Celkovo {documents.length} súborov z {companies.length} firiem\r\n          </p>\r\n        </div>\r\n\r\n        {/* Files Management */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900\">Správa súborov</h2>\r\n            </div>\r\n            <button\r\n              onClick={handleUploadFile}\r\n              disabled={companies.length === 0}\r\n              className={`px-4 py-2 rounded-md flex items-center ${\r\n                companies.length === 0 \r\n                  ? 'bg-gray-400 text-gray-200 cursor-not-allowed' \r\n                  : 'bg-primary-600 text-white hover:bg-primary-700'\r\n              }`}\r\n            >\r\n              <DocumentTextIcon className=\"h-5 w-5 mr-2\" />\r\n              {companies.length === 0 ? 'Žiadne firmy' : 'Nahrať súbor'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {loadingDocuments ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n                <p className=\"mt-4 text-gray-600\">Načítavam súbory...</p>\r\n              </div>\r\n            ) : documents.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {documents.map((document) => (\r\n                  <div key={document.id} className=\"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{document.original_name}</h3>\r\n                        <div className=\"flex items-center space-x-4 text-sm text-gray-500 mb-3\">\r\n                          <div className=\"flex items-center\">\r\n                            <BuildingOfficeIcon className=\"h-4 w-4 mr-1\" />\r\n                            <span>Firma: {document.company_name || 'Neznáma'}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center\">\r\n                            <DocumentTextIcon className=\"h-4 w-4 mr-1\" />\r\n                            <span>Typ: {document.file_type}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center\">\r\n                            <span>Veľkosť: {(document.file_size / 1024).toFixed(1)} KB</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex flex-col items-end space-y-2 ml-4\">\r\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">\r\n                          Nahrané\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between pt-4 border-t border-gray-200\">\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        Nahral: {document.uploaded_by} | Dátum: {new Date(document.created_at).toLocaleDateString('sk-SK')}\r\n                      </div>\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          onClick={() => handleFilePreview(document)}\r\n                          className=\"text-green-600 hover:text-green-700 text-sm font-medium\"\r\n                        >\r\n                          Náhľad\r\n                        </button>\r\n                        <button\r\n                          onClick={() => window.open(`/api/files/download/${document.id}`, '_blank')}\r\n                          className=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n                        >\r\n                          Stiahnuť\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteDocument(document.id)}\r\n                          className=\"text-red-600 hover:text-red-700 text-sm font-medium\"\r\n                        >\r\n                          Vymazať\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : companies.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <BuildingOfficeIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nemáte priradené firmy</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">Kontaktujte administrátora, aby vám priradil firmy.</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <FolderIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Žiadne súbory</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">Zatiaľ nemáte žiadne nahrané súbory</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* File Upload Modal */}\r\n        {companies.length > 0 && (\r\n          <FileUploadModal\r\n            isOpen={showFileUploadModal}\r\n            onClose={() => setShowFileUploadModal(false)}\r\n            companies={companies}\r\n            onFileUpload={handleFileUpload}\r\n          />\r\n        )}\r\n\r\n        {/* File Preview Modal */}\r\n        <FilePreviewModal\r\n          isOpen={showFilePreviewModal}\r\n          onClose={() => {\r\n            setShowFilePreviewModal(false);\r\n            setPreviewFile(null);\r\n          }}\r\n          file={previewFile}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantFilesPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon, BuildingOfficeIcon, MagnifyingGlassIcon, ChartBarIcon } from '@heroicons/react/24/outline';\r\nimport { Company, apiService } from '../services/apiService';\r\n\r\n// Lazy loading pre CompanyDashboard aby sme predišli cirkulárnej závislosti\r\nconst AccountantCompanyDashboardPage = React.lazy(() => import('./AccountantCompanyDashboardPage'));\r\n\r\ninterface AccountantCompaniesPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantCompaniesPage: React.FC<AccountantCompaniesPageProps> = ({ userEmail, onBack }) => {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [loadingCompanies, setLoadingCompanies] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showCompanyDashboard, setShowCompanyDashboard] = useState(false);\r\n  const [selectedCompany, setSelectedCompany] = useState<Company | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadAccountantData();\r\n  }, [userEmail]);\r\n\r\n  const loadAccountantData = async () => {\r\n    try {\r\n      const assignedCompanies = await apiService.getAccountantCompanies(userEmail);\r\n      setCompanies(assignedCompanies);\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní dát účtovníka:', error);\r\n    } finally {\r\n      setLoadingCompanies(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenCompanyDashboard = (company: Company) => {\r\n    setSelectedCompany(company);\r\n    setShowCompanyDashboard(true);\r\n  };\r\n\r\n  const handleBackFromCompanyDashboard = () => {\r\n    setShowCompanyDashboard(false);\r\n    setSelectedCompany(null);\r\n  };\r\n\r\n  const filteredCompanies = companies.filter(company =>\r\n    company.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    company.ico.includes(searchTerm) ||\r\n    company.owner_email.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Show company dashboard page if selected\r\n  if (showCompanyDashboard && selectedCompany) {\r\n    return (\r\n      <React.Suspense fallback={\r\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n          <div className=\"bg-white rounded-lg p-6\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n            <p className=\"mt-2 text-gray-600\">Načítavam dashboard firmy...</p>\r\n          </div>\r\n        </div>\r\n      }>\r\n        <AccountantCompanyDashboardPage\r\n          company={selectedCompany}\r\n          userEmail={userEmail}\r\n          onBack={handleBackFromCompanyDashboard}\r\n        />\r\n      </React.Suspense>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Priradené firmy</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Celkovo {companies.length} priradených firiem\r\n          </p>\r\n        </div>\r\n\r\n        {/* Companies Management */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Správa firiem</h2>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {/* Search */}\r\n            <div className=\"relative mb-6\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Hľadať firmy...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n              />\r\n              <MagnifyingGlassIcon className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\r\n            </div>\r\n\r\n            {loadingCompanies ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n                <p className=\"mt-4 text-gray-600\">Načítavam firmy...</p>\r\n              </div>\r\n            ) : filteredCompanies.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {filteredCompanies.map((company) => (\r\n                  <div \r\n                    key={company.id} \r\n                    className=\"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-all duration-200 cursor-pointer hover:bg-gray-100 hover:scale-[1.02] border border-transparent hover:border-gray-300\"\r\n                    onClick={() => handleOpenCompanyDashboard(company)}\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{company.name}</h3>\r\n                        <p className=\"text-sm text-gray-600 mb-2\">IČO: {company.ico}</p>\r\n                        <p className=\"text-sm text-gray-500 mb-2\">Vlastník: {company.owner_email}</p>\r\n                        <p className=\"text-sm text-gray-500\">{company.address}</p>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"p-2 text-primary-600\">\r\n                          <ChartBarIcon className=\"h-5 w-5\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between text-sm text-gray-500\">\r\n                      <span>Vytvorené: {new Date(company.created_at).toLocaleDateString('sk-SK')}</span>\r\n                      <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs\">\r\n                        Priradené\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <BuildingOfficeIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\r\n                  {searchTerm ? 'Žiadne firmy nenájdené' : 'Žiadne priradené firmy'}\r\n                </h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  {searchTerm \r\n                    ? 'Skúste zmeniť vyhľadávací výraz' \r\n                    : 'Admin vám zatiaľ nepriradil žiadne firmy'\r\n                  }\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantCompaniesPage;\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport { format, isSameDay, parseISO } from 'date-fns';\r\nimport { sk } from 'date-fns/locale';\r\nimport {\r\n  CalendarIcon,\r\n  ClockIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon,\r\n  XCircleIcon,\r\n  BuildingOfficeIcon,\r\n  UserIcon,\r\n  FunnelIcon,\r\n  XMarkIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { Task, Company } from '../services/apiService';\r\nimport TaskModal from './TaskModal';\r\n\r\ninterface CalendarProps {\r\n  userEmail: string;\r\n  userRole: 'admin' | 'user' | 'accountant';\r\n  tasks: Task[];\r\n  companies: Company[];\r\n  onTaskUpdate: () => void;\r\n}\r\n\r\ninterface CalendarEvent {\r\n  id: number;\r\n  title: string;\r\n  date: Date;\r\n  type: 'task';\r\n  task: Task;\r\n}\r\n\r\nconst CalendarComponent: React.FC<CalendarProps> = ({\r\n  userEmail,\r\n  userRole,\r\n  tasks,\r\n  companies,\r\n  onTaskUpdate\r\n}) => {\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(new Date());\r\n  const [selectedEvents, setSelectedEvents] = useState<CalendarEvent[]>([]);\r\n  const [showTaskModal, setShowTaskModal] = useState(false);\r\n  const [editingTask, setEditingTask] = useState<Task | null>(null);\r\n  const [filters, setFilters] = useState({\r\n    companyId: 'all',\r\n    status: 'all',\r\n    priority: 'all'\r\n  });\r\n\r\n  // Konvertovanie úloh na kalendárne udalosti\r\n  const calendarEvents = useMemo(() => {\r\n    return tasks\r\n      .filter(task => {\r\n        // Filtrovanie podľa firmy\r\n        if (filters.companyId !== 'all' && task.company_id !== parseInt(filters.companyId)) {\r\n          return false;\r\n        }\r\n        // Filtrovanie podľa stavu\r\n        if (filters.status !== 'all' && task.status !== filters.status) {\r\n          return false;\r\n        }\r\n        // Filtrovanie podľa priority\r\n        if (filters.priority !== 'all' && task.priority !== filters.priority) {\r\n          return false;\r\n        }\r\n        return true;\r\n      })\r\n      .filter(task => task.due_date) // Len úlohy s termínom\r\n      .map(task => ({\r\n        id: task.id,\r\n        title: task.title,\r\n        date: parseISO(task.due_date!),\r\n        type: 'task' as const,\r\n        task\r\n      }));\r\n  }, [tasks, filters]);\r\n\r\n  // Získanie udalostí pre vybraný dátum\r\n  useEffect(() => {\r\n    if (!selectedDate) return;\r\n    const eventsForDate = calendarEvents.filter(event =>\r\n      isSameDay(event.date, selectedDate)\r\n    );\r\n    setSelectedEvents(eventsForDate);\r\n  }, [selectedDate, calendarEvents]);\r\n\r\n  // Funkcia pre získanie udalostí pre konkrétny dátum (pre react-calendar)\r\n  const tileContent = ({ date }: { date: Date }) => {\r\n    const eventsForDate = calendarEvents.filter(event =>\r\n      isSameDay(event.date, date)\r\n    );\r\n\r\n    if (eventsForDate.length === 0) return null;\r\n\r\n    return (\r\n      <div className=\"flex flex-col items-center\">\r\n        {eventsForDate.map((event, index) => (\r\n          <div\r\n            key={`${event.id}-${index}`}\r\n            className={`w-2 h-2 rounded-full mb-1 ${\r\n              event.task.status === 'completed' ? 'bg-green-500' :\r\n              event.task.status === 'in_progress' ? 'bg-blue-500' :\r\n              event.task.priority === 'urgent' ? 'bg-red-500' :\r\n              event.task.priority === 'high' ? 'bg-orange-500' :\r\n              'bg-gray-500'\r\n            }`}\r\n            title={`${event.title} - ${event.task.status}`}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Funkcia pre získanie CSS tried pre dátum (pre react-calendar)\r\n  const tileClassName = ({ date }: { date: Date }) => {\r\n    const eventsForDate = calendarEvents.filter(event =>\r\n      isSameDay(event.date, date)\r\n    );\r\n\r\n    if (eventsForDate.length === 0) return '';\r\n\r\n    const hasUrgent = eventsForDate.some(event => event.task.priority === 'urgent');\r\n    const hasHigh = eventsForDate.some(event => event.task.priority === 'high');\r\n    const hasCompleted = eventsForDate.some(event => event.task.status === 'completed');\r\n\r\n    if (hasUrgent) return 'bg-red-100 border-red-300';\r\n    if (hasHigh) return 'bg-orange-100 border-orange-300';\r\n    if (hasCompleted) return 'bg-green-100 border-green-300';\r\n    return 'bg-blue-100 border-blue-300';\r\n  };\r\n\r\n  const handleEventClick = (event: CalendarEvent) => {\r\n    setEditingTask(event.task);\r\n    setShowTaskModal(true);\r\n  };\r\n\r\n  const handleTaskUpdate = () => {\r\n    setShowTaskModal(false);\r\n    setEditingTask(null);\r\n    onTaskUpdate();\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'urgent': return 'text-red-600 bg-red-100';\r\n      case 'high': return 'text-orange-600 bg-orange-100';\r\n      case 'medium': return 'text-yellow-600 bg-yellow-100';\r\n      case 'low': return 'text-green-600 bg-green-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return <CheckCircleIcon className=\"w-5 h-5 text-green-500\" />;\r\n      case 'in_progress':\r\n        return <ClockIcon className=\"w-5 h-5 text-blue-500\" />;\r\n      case 'cancelled':\r\n        return <XCircleIcon className=\"w-5 h-5 text-red-500\" />;\r\n      default:\r\n        return <ExclamationTriangleIcon className=\"w-5 h-5 text-yellow-500\" />;\r\n    }\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      companyId: 'all',\r\n      status: 'all',\r\n      priority: 'all'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <CalendarIcon className=\"w-6 h-6 text-blue-600\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-800\">Kalendár úloh</h2>\r\n        </div>\r\n        \r\n        {/* Filtre */}\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <FunnelIcon className=\"w-4 h-4 text-gray-500\" />\r\n            <span className=\"text-sm text-gray-600\">Filtre:</span>\r\n          </div>\r\n          \r\n          {/* Firma */}\r\n          <select\r\n            value={filters.companyId}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, companyId: e.target.value }))}\r\n            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">Všetky firmy</option>\r\n            {companies.map(company => (\r\n              <option key={company.id} value={company.id}>\r\n                {company.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* Stav */}\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">Všetky stavy</option>\r\n            <option value=\"pending\">Čakajúce</option>\r\n            <option value=\"in_progress\">V riešení</option>\r\n            <option value=\"completed\">Dokončené</option>\r\n            <option value=\"cancelled\">Zrušené</option>\r\n          </select>\r\n\r\n          {/* Priorita */}\r\n          <select\r\n            value={filters.priority}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, priority: e.target.value }))}\r\n            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">Všetky priority</option>\r\n            <option value=\"urgent\">Urgentné</option>\r\n            <option value=\"high\">Vysoké</option>\r\n            <option value=\"medium\">Stredné</option>\r\n            <option value=\"low\">Nízke</option>\r\n          </select>\r\n\r\n          {/* Vymazať filtre */}\r\n          <button\r\n            onClick={clearFilters}\r\n            className=\"flex items-center space-x-1 px-2 py-1 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded\"\r\n          >\r\n            <XMarkIcon className=\"w-4 h-4\" />\r\n            <span>Vymazať</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Kalendár */}\r\n        <div className=\"lg:col-span-2\">\r\n          <Calendar\r\n            onChange={(value) => setSelectedDate(value as Date)}\r\n            value={selectedDate}\r\n            tileContent={tileContent}\r\n            tileClassName={tileClassName}\r\n            locale=\"sk\"\r\n            className=\"w-full border-0 shadow-sm\"\r\n          />\r\n          \r\n          {/* Legenda */}\r\n          <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\r\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Legenda:</h4>\r\n            <div className=\"flex flex-wrap gap-4 text-xs\">\r\n              <div className=\"flex items-center space-x-1\">\r\n                <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n                <span>Urgentné</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <div className=\"w-3 h-3 bg-orange-500 rounded-full\"></div>\r\n                <span>Vysoké</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n                <span>V riešení</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n                <span>Dokončené</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <div className=\"w-3 h-3 bg-gray-500 rounded-full\"></div>\r\n                <span>Ostatné</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Udalosti pre vybraný dátum */}\r\n        <div className=\"lg:col-span-1\">\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                         <h3 className=\"text-lg font-medium text-gray-800 mb-4\">\r\n               {selectedDate ? format(selectedDate, 'EEEE, d. MMMM yyyy', { locale: sk }) : 'Vyberte dátum'}\r\n             </h3>\r\n            \r\n            {selectedEvents.length === 0 ? (\r\n              <p className=\"text-gray-500 text-center py-8\">\r\n                Žiadne úlohy na tento dátum\r\n              </p>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {selectedEvents.map((event) => (\r\n                  <div\r\n                    key={event.id}\r\n                    className=\"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer\"\r\n                    onClick={() => handleEventClick(event)}\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <h4 className=\"font-medium text-gray-800 mb-1\">\r\n                          {event.title}\r\n                        </h4>\r\n                        \r\n                        <div className=\"flex items-center space-x-2 mb-2\">\r\n                          <BuildingOfficeIcon className=\"w-4 h-4 text-gray-400\" />\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {event.task.company_name}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center space-x-2 mb-2\">\r\n                          <UserIcon className=\"w-4 h-4 text-gray-400\" />\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {event.task.assigned_to}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex items-center space-x-2\">\r\n                          {getStatusIcon(event.task.status)}\r\n                          <span className=\"text-sm text-gray-600 capitalize\">\r\n                            {event.task.status.replace('_', ' ')}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex flex-col items-end space-y-1\">\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getPriorityColor(event.task.priority)}`}>\r\n                          {event.task.priority}\r\n                        </span>\r\n                        <span className=\"text-xs text-gray-500\">\r\n                          {format(event.date, 'HH:mm')}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n             {/* Task Modal */}\r\n       {showTaskModal && editingTask && (\r\n         <TaskModal\r\n           isOpen={showTaskModal}\r\n           onClose={() => setShowTaskModal(false)}\r\n           onSave={handleTaskUpdate}\r\n           task={{\r\n             id: editingTask.id.toString(),\r\n             title: editingTask.title,\r\n             description: editingTask.description || '',\r\n             status: editingTask.status,\r\n             priority: editingTask.priority,\r\n             assignedTo: editingTask.assigned_to,\r\n             dueDate: editingTask.due_date || '',\r\n             createdAt: editingTask.created_at,\r\n             createdBy: editingTask.created_by,\r\n             category: 'other',\r\n             companyId: editingTask.company_id,\r\n             companyName: editingTask.company_name\r\n           }}\r\n           companyEmployees={[]}\r\n           company={{ id: editingTask.company_id, name: editingTask.company_name }}\r\n           isAccountant={userRole === 'accountant'}\r\n           assignedCompanies={companies}\r\n         />\r\n       )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalendarComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ArrowLeftIcon } from '@heroicons/react/24/outline';\r\nimport { Company, apiService } from '../services/apiService';\r\nimport CalendarComponent from '../components/Calendar';\r\nimport { Task } from '../components/TaskModal';\r\n\r\ninterface AccountantCalendarPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantCalendarPage: React.FC<AccountantCalendarPageProps> = ({ userEmail, onBack }) => {\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [assignedTasks, setAssignedTasks] = useState<Task[]>([]);\r\n  const [loadingTasks, setLoadingTasks] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadAccountantData();\r\n  }, [userEmail]);\r\n\r\n  const loadAccountantData = async () => {\r\n    try {\r\n      const assignedCompanies = await apiService.getAccountantCompanies(userEmail);\r\n      setCompanies(assignedCompanies);\r\n\r\n      const companyTasksArrays = await Promise.all(\r\n        assignedCompanies.map((company) => apiService.getCompanyTasks(company.id))\r\n      );\r\n      const allCompanyTasks = companyTasksArrays.flat();\r\n\r\n      const convertedTasks: Task[] = allCompanyTasks.map(apiTask => ({\r\n        id: apiTask.id.toString(),\r\n        title: apiTask.title,\r\n        description: apiTask.description || '',\r\n        status: apiTask.status,\r\n        priority: apiTask.priority,\r\n        assignedTo: apiTask.assigned_to,\r\n        dueDate: apiTask.due_date || '',\r\n        createdAt: apiTask.created_at,\r\n        createdBy: apiTask.created_by,\r\n        category: 'other',\r\n        companyId: apiTask.company_id,\r\n        companyName: apiTask.company_name\r\n      }));\r\n      setAssignedTasks(convertedTasks);\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní dát účtovníka:', error);\r\n    } finally {\r\n      setLoadingTasks(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Kalendár úloh</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Prehľad úloh zo všetkých priradených firiem\r\n          </p>\r\n        </div>\r\n\r\n        {/* Calendar */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"p-6\">\r\n            {loadingTasks ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n                <p className=\"mt-4 text-gray-600\">Načítavam kalendár...</p>\r\n              </div>\r\n            ) : (\r\n              <CalendarComponent\r\n                userEmail={userEmail}\r\n                userRole=\"accountant\"\r\n                tasks={assignedTasks.map(task => ({\r\n                  id: parseInt(task.id),\r\n                  title: task.title,\r\n                  description: task.description,\r\n                  status: task.status,\r\n                  priority: task.priority,\r\n                  assigned_to: task.assignedTo,\r\n                  company_id: task.companyId || 0,\r\n                  company_name: task.companyName || 'Neznáma firma',\r\n                  created_by: task.createdBy,\r\n                  due_date: task.dueDate,\r\n                  created_at: task.createdAt,\r\n                  updated_at: task.createdAt\r\n                }))}\r\n                companies={companies}\r\n                onTaskUpdate={() => {\r\n                  loadAccountantData();\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantCalendarPage;\r\n","import React from 'react';\r\nimport { ArrowLeftIcon } from '@heroicons/react/24/outline';\r\nimport MessagesList from '../components/MessagesList';\r\n\r\ninterface AccountantMessagesPageProps {\r\n  userEmail: string;\r\n  onBack: () => void;\r\n}\r\n\r\nconst AccountantMessagesPage: React.FC<AccountantMessagesPageProps> = ({ userEmail, onBack }) => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n              >\r\n                <ArrowLeftIcon className=\"h-5 w-5\" />\r\n                <span className=\"font-medium\">Späť do Dashboard</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n                <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Správy</h1>\r\n          <p className=\"text-gray-600 mt-2\">\r\n            Komunikácia s firmami a správami\r\n          </p>\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        <div className=\"bg-white rounded-lg shadow-md\">\r\n          <div className=\"p-6\">\r\n            <MessagesList \r\n              userEmail={userEmail} \r\n              userRole=\"accountant\" \r\n              onMessageAction={() => {\r\n                // Refresh messages count if needed\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantMessagesPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  CheckCircleIcon,\r\n  BuildingOfficeIcon,\r\n  ClipboardDocumentListIcon,\r\n  FolderIcon,\r\n  EnvelopeIcon,\r\n  CalendarIcon,\r\n  CloudIcon,\r\n  UserIcon,\r\n  CalculatorIcon\r\n} from '@heroicons/react/24/outline';\r\nimport { Company, apiService } from '../services/apiService';\r\nimport AccountantDropboxPage from './AccountantDropboxPage';\r\nimport AccountantTasksPage from './AccountantTasksPage';\r\nimport AccountantFilesPage from './AccountantFilesPage';\r\nimport AccountantCompaniesPage from './AccountantCompaniesPage';\r\nimport AccountantCalendarPage from './AccountantCalendarPage';\r\nimport AccountantMessagesPage from './AccountantMessagesPage';\r\n\r\n\r\ninterface AccountantDashboardProps {\r\n  userEmail: string;\r\n}\r\n\r\nconst AccountantDashboard: React.FC<AccountantDashboardProps> = ({ userEmail }) => {\r\n  const navigate = useNavigate();\r\n  const [companies, setCompanies] = useState<Company[]>([]);\r\n  const [, setLoadingCompanies] = useState(true);\r\n\r\n  const [showDropboxPage, setShowDropboxPage] = useState(false);\r\n  const [showTasksPage, setShowTasksPage] = useState(false);\r\n  const [showFilesPage, setShowFilesPage] = useState(false);\r\n  const [showCompaniesPage, setShowCompaniesPage] = useState(false);\r\n  const [showCalendarPage, setShowCalendarPage] = useState(false);\r\n  const [showMessagesPage, setShowMessagesPage] = useState(false);\r\n\r\n  const [unreadMessagesCount, setUnreadMessagesCount] = useState(0);\r\n  const [stats, setStats] = useState({\r\n    documents: 0,\r\n    tasks: 0,\r\n    completed: 0,\r\n    pending: 0,\r\n    companies: 0,\r\n  });\r\n\r\n  // Aktualizácia štatistík na základe počtu firiem\r\n  useEffect(() => {\r\n    setStats(prev => ({\r\n      ...prev,\r\n      companies: companies.length,\r\n    }));\r\n  }, [companies.length]);\r\n\r\n  // Načítanie počtu neprečítaných správ\r\n  const loadUnreadMessagesCount = async () => {\r\n    try {\r\n      const unreadCount = await apiService.getUnreadCount(userEmail);\r\n      setUnreadMessagesCount(unreadCount);\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní počtu neprečítaných správ:', error);\r\n    }\r\n  };\r\n\r\n  // Načítanie úloh účtovníka\r\n  const loadAccountantTasks = async () => {\r\n    try {\r\n      const accountantTasks = await apiService.getAccountantTasks(userEmail);\r\n      const pendingTasks = accountantTasks.filter(task => task.status === 'pending');\r\n      const completedTasks = accountantTasks.filter(task => task.status === 'completed');\r\n      \r\n      setStats(prev => ({\r\n        ...prev,\r\n        tasks: accountantTasks.length,\r\n        pending: pendingTasks.length,\r\n        completed: completedTasks.length,\r\n      }));\r\n    } catch (error) {\r\n      console.error('Chyba pri načítaní úloh účtovníka:', error);\r\n    }\r\n  };\r\n\r\n  // Načítanie firiem priradených účtovníkovi\r\n  useEffect(() => {\r\n    const loadAccountantData = async () => {\r\n      try {\r\n        const assignedCompanies = await apiService.getAccountantCompanies(userEmail);\r\n        setCompanies(assignedCompanies);\r\n      } catch (error) {\r\n        console.error('Chyba pri načítaní dát účtovníka:', error);\r\n      } finally {\r\n        setLoadingCompanies(false);\r\n      }\r\n    };\r\n\r\n    loadAccountantData();\r\n    loadUnreadMessagesCount();\r\n    loadAccountantTasks();\r\n  }, [userEmail]);\r\n\r\n  // Automatické aktualizácie počtu neprečítaných správ každých 30 sekúnd\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      loadUnreadMessagesCount();\r\n    }, 30000); // 30 sekúnd\r\n\r\n    return () => clearInterval(interval);\r\n  }, [loadUnreadMessagesCount]);\r\n\r\n\r\n\r\n  // Ak sa má zobraziť Dropbox stránka, zobrazíme ju na celú obrazovku\r\n  if (showDropboxPage) {\r\n    return (\r\n      <AccountantDropboxPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowDropboxPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Ak sa má zobraziť Tasks stránka, zobrazíme ju na celú obrazovku\r\n  if (showTasksPage) {\r\n    return (\r\n      <AccountantTasksPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowTasksPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Ak sa má zobraziť Files stránka, zobrazíme ju na celú obrazovku\r\n  if (showFilesPage) {\r\n    return (\r\n      <AccountantFilesPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowFilesPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Ak sa má zobraziť Companies stránka, zobrazíme ju na celú obrazovku\r\n  if (showCompaniesPage) {\r\n    return (\r\n      <AccountantCompaniesPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowCompaniesPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Ak sa má zobraziť Calendar stránka, zobrazíme ju na celú obrazovku\r\n  if (showCalendarPage) {\r\n    return (\r\n      <AccountantCalendarPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowCalendarPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Ak sa má zobraziť Messages stránka, zobrazíme ju na celú obrazovku\r\n  if (showMessagesPage) {\r\n    return (\r\n      <AccountantMessagesPage\r\n        userEmail={userEmail}\r\n        onBack={() => setShowMessagesPage(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Dashboard účtovníka</h1>\r\n            <p className=\"text-gray-600 mt-2\">Správa priradených firiem a úloh</p>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"text-right\">\r\n              <p className=\"text-sm text-gray-500\">Prihlásený ako</p>\r\n              <p className=\"font-medium text-gray-900\">{userEmail}</p>\r\n            </div>\r\n            <div className=\"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center\">\r\n              <UserIcon className=\"h-6 w-6 text-primary-600\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Štatistiky */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6\">\r\n\r\n\r\n        <button \r\n           onClick={() => setShowTasksPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <ClipboardDocumentListIcon className=\"h-8 w-8 text-green-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Úlohy</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.tasks}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n              <p className=\"text-sm text-gray-500\">{stats.pending} čakajúcich</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => setShowTasksPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CheckCircleIcon className=\"h-8 w-8 text-green-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Dokončené</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.completed}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => setShowFilesPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <FolderIcon className=\"h-8 w-8 text-orange-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Súbory</p>\r\n                             <p className=\"text-2xl font-bold text-gray-900\">∞</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => setShowCompaniesPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <BuildingOfficeIcon className=\"h-8 w-8 text-purple-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Priradené firmy</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.companies}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => setShowCalendarPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CalendarIcon className=\"h-8 w-8 text-orange-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Kalendár</p>\r\n                             <p className=\"text-2xl font-bold text-gray-900\">∞</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n                 <button \r\n           onClick={() => setShowDropboxPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n         >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CloudIcon className=\"h-8 w-8 text-blue-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Dropbox</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">∞</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => setShowMessagesPage(true)}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <EnvelopeIcon className=\"h-8 w-8 text-indigo-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Správy</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{unreadMessagesCount}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n              {unreadMessagesCount > 0 && (\r\n                <p className=\"text-sm text-indigo-600 font-medium\">{unreadMessagesCount} neprečítaných</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n        <button \r\n           onClick={() => navigate('/accounting')}\r\n           className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 transform hover:scale-105\"\r\n        >\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <CalculatorIcon className=\"h-8 w-8 text-green-500\" />\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Účtovníctvo</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">∞</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">Kliknite pre zobrazenie</p>\r\n            </div>\r\n          </div>\r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountantDashboard;\r\n\r\n"],"names":["_ref","userEmail","companies","setCompanies","useState","selectedCompany","setSelectedCompany","loading","setLoading","error","setError","useEffect","loadDropboxCompanies","async","response","fetch","data","json","success","settings","console","handleBackToList","_jsxs","className","children","_jsx","viewBox","fill","fillRule","d","clipRule","onClick","companyName","companyEmail","folderPath","DropboxIntegration","companyId","isCompanyView","userRole","companyICO","onFileSelect","file","length","FolderIcon","map","company","handleCompanySelect","BuildingOfficeIcon","concat","isShared","Date","updatedAt","toLocaleDateString","EyeIcon","permissions","canView","canEdit","canUpload","canDelete","id","onBack","ArrowLeftIcon","AccountantDropboxSelector","assignedTasks","setAssignedTasks","loadingTasks","setLoadingTasks","showTaskModal","setShowTaskModal","editingTask","setEditingTask","taskFilter","setTaskFilter","loadAccountantData","assignedCompanies","apiService","getAccountantCompanies","companyTasksArrays","Promise","all","getCompanyTasks","convertedTasks","flat","apiTask","toString","title","description","status","priority","assignedTo","assigned_to","dueDate","due_date","createdAt","created_at","createdBy","created_by","category","company_id","company_name","handleUpdateTaskStatus","taskId","newStatus","prev","task","_objectSpread","filteredTasks","filter","handleAddTask","alert","disabled","CogIcon","t","CalendarIcon","estimatedHours","pending","completed","in_progress","cancelled","urgent","high","medium","low","handleEditTask","window","confirm","deleteTask","parseInt","handleDeleteTask","TaskModal","isOpen","onClose","onSave","updateData","taskData","assignedToEmail","estimated_hours","updateTask","find","c","newTask","createTask","name","toISOString","companyEmployees","isAccountant","documents","setDocuments","loadingDocuments","setLoadingDocuments","showFileUploadModal","setShowFileUploadModal","showFilePreviewModal","setShowFilePreviewModal","previewFile","setPreviewFile","allDocuments","companyFiles","getCompanyFiles","push","handleUploadFile","DocumentTextIcon","document","original_name","file_type","file_size","toFixed","uploaded_by","open","deleteFile","fileId","doc","handleDeleteDocument","FileUploadModal","onFileUpload","FilePreviewModal","AccountantCompanyDashboardPage","React","loadingCompanies","setLoadingCompanies","searchTerm","setSearchTerm","showCompanyDashboard","setShowCompanyDashboard","handleBackFromCompanyDashboard","filteredCompanies","toLowerCase","includes","ico","owner_email","fallback","type","placeholder","value","onChange","e","target","MagnifyingGlassIcon","handleOpenCompanyDashboard","address","ChartBarIcon","tasks","onTaskUpdate","selectedDate","setSelectedDate","selectedEvents","setSelectedEvents","filters","setFilters","calendarEvents","useMemo","date","parseISO","eventsForDate","event","isSameDay","getPriorityColor","getStatusIcon","CheckCircleIcon","ClockIcon","XCircleIcon","ExclamationTriangleIcon","FunnelIcon","clearFilters","XMarkIcon","Calendar","tileContent","_ref2","index","tileClassName","_ref3","hasUrgent","some","hasHigh","hasCompleted","locale","format","sk","handleEventClick","UserIcon","replace","handleTaskUpdate","CalendarComponent","updated_at","MessagesList","onMessageAction","navigate","useNavigate","showDropboxPage","setShowDropboxPage","showTasksPage","setShowTasksPage","showFilesPage","setShowFilesPage","showCompaniesPage","setShowCompaniesPage","showCalendarPage","setShowCalendarPage","showMessagesPage","setShowMessagesPage","unreadMessagesCount","setUnreadMessagesCount","stats","setStats","loadUnreadMessagesCount","unreadCount","getUnreadCount","accountantTasks","getAccountantTasks","pendingTasks","completedTasks","loadAccountantTasks","interval","setInterval","clearInterval","AccountantDropboxPage","AccountantTasksPage","AccountantFilesPage","AccountantCompaniesPage","AccountantCalendarPage","AccountantMessagesPage","ClipboardDocumentListIcon","CloudIcon","EnvelopeIcon","CalculatorIcon"],"sourceRoot":""}