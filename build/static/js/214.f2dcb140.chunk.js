"use strict";(self.webpackChunkclient_portal_frontend=self.webpackChunkclient_portal_frontend||[]).push([[214],{8214:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var l=s(9950),a=s(14185),r=s(52941),n=s(64725),i=s(7342),d=s(36923),c=s(39818),o=s(64112),m=s(15536),x=s(13196),h=s(44414);const g=e=>{let{onBack:t}=e;const[s,g]=(0,l.useState)([]),[u,p]=(0,l.useState)(!0),[j,f]=(0,l.useState)(""),[v,y]=(0,l.useState)("all");(0,l.useEffect)(()=>{(async()=>{try{p(!0);const e=await x.p.getAllTasks();g(e)}catch(e){console.error("Chyba pri na\u010d\xedtan\xed \xfaloh:",e)}finally{p(!1)}})()},[]);const b=s.filter(e=>{const t=e.title.toLowerCase().includes(j.toLowerCase())||e.description.toLowerCase().includes(j.toLowerCase())||e.assignedTo.toLowerCase().includes(j.toLowerCase()),s="all"===v||e.status===v;return t&&s}),w=async(e,t)=>{try{const s=await x.p.updateTask(e,{status:t});s&&g(t=>t.map(t=>t.id===e?s:t))}catch(s){console.error("Chyba pri aktualiz\xe1cii \xfalohy:",s),alert("Chyba pri aktualiz\xe1cii \xfalohy")}},N={total:s.length,pending:s.filter(e=>"pending"===e.status).length,inProgress:s.filter(e=>"in_progress"===e.status).length,completed:s.filter(e=>"completed"===e.status).length,cancelled:s.filter(e=>"cancelled"===e.status).length};return(0,h.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,h.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,h.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsxs)("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,h.jsx)(a.A,{className:"h-5 w-5 mr-2"}),"Sp\xe4\u0165 do Dashboardu"]}),(0,h.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(i.A,{className:"h-8 w-8 text-green-500 mr-3"}),(0,h.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Spr\xe1va \xfaloh"})]})]})})})}),(0,h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(i.A,{className:"h-8 w-8 text-blue-500"}),(0,h.jsxs)("div",{className:"ml-3",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Celkovo"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(d.A,{className:"h-8 w-8 text-yellow-500"}),(0,h.jsxs)("div",{className:"ml-3",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\u010cakaj\xface"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.pending})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(d.A,{className:"h-8 w-8 text-blue-500"}),(0,h.jsxs)("div",{className:"ml-3",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"V spracovan\xed"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.inProgress})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(n.A,{className:"h-8 w-8 text-green-500"}),(0,h.jsxs)("div",{className:"ml-3",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Dokon\u010den\xe9"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.completed})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(m.A,{className:"h-8 w-8 text-gray-500"}),(0,h.jsxs)("div",{className:"ml-3",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Zru\u0161en\xe9"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.cancelled})]})]})})]}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,h.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,h.jsxs)("div",{className:"flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Zoznam \xfaloh"}),(0,h.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Celkovo ",b.length," \xfaloh z ",s.length]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:[(0,h.jsx)("option",{value:"all",children:"V\u0161etky statusy"}),(0,h.jsx)("option",{value:"pending",children:"\u010cakaj\xface"}),(0,h.jsx)("option",{value:"in_progress",children:"V spracovan\xed"}),(0,h.jsx)("option",{value:"completed",children:"Dokon\u010den\xe9"}),(0,h.jsx)("option",{value:"cancelled",children:"Zru\u0161en\xe9"})]}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,h.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,h.jsx)("input",{type:"text",placeholder:"Vyh\u013eada\u0165 \xfalohu...",value:j,onChange:e=>f(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500 sm:text-sm"})]})]})]})}),(0,h.jsx)("div",{className:"p-6",children:u?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,h.jsx)("p",{className:"mt-4 text-gray-600",children:"Na\u010d\xedtavam \xfalohy..."})]}):b.length>0?(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(e=>{return(0,h.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow border border-gray-200",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.title}),(0,h.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,h.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,h.jsx)(r.A,{className:"h-4 w-4 mr-1"}),e.dueDate]}),(0,h.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,h.jsx)(o.A,{className:"h-4 w-4 mr-1"}),e.assignedTo]})]}),(0,h.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[(s=e.status,(0,h.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",in_progress:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"),children:{pending:"\u010cakaj\xface",completed:"Dokon\u010den\xe9",in_progress:"V spracovan\xed",cancelled:"Zru\u0161en\xe9"}[s]||s})),(t=e.priority,(0,h.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800"),children:{low:"N\xedzka",medium:"Stredn\xe1",high:"Vysok\xe1",urgent:"Urgentn\xe1"}[t]||t}))]})]}),(0,h.jsx)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:(0,h.jsxs)("div",{className:"flex space-x-2",children:["completed"!==e.status&&(0,h.jsxs)("button",{onClick:()=>w(e.id,"completed"),className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:[(0,h.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Dokon\u010di\u0165"]}),"pending"===e.status&&(0,h.jsxs)("button",{onClick:()=>w(e.id,"in_progress"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[(0,h.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Spusti\u0165"]}),"cancelled"!==e.status&&(0,h.jsxs)("button",{onClick:()=>w(e.id,"cancelled"),className:"text-gray-600 hover:text-gray-700 text-sm font-medium flex items-center",children:[(0,h.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Zru\u0161i\u0165"]}),(0,h.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Naozaj chcete vymaza\u0165 t\xfato \xfalohu?"))try{await x.p.deleteTask(e)&&g(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Chyba pri mazan\xed \xfalohy:",t),alert("Chyba pri mazan\xed \xfalohy")}})(e.id),className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center",children:[(0,h.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Vymaza\u0165"]})]})})]},e.id);var t,s})}):(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(i.A,{className:"mx-auto h-16 w-16 text-gray-400"}),(0,h.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:j||"all"!==v?"\u017diadne \xfalohy nen\xe1jden\xe9":"\u017diadne \xfalohy"}),(0,h.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:j||"all"!==v?"Sk\xfaste zmeni\u0165 vyh\u013ead\xe1vac\xed v\xfdraz alebo filter.":"Zatia\u013e neboli vytvoren\xe9 \u017eiadne \xfalohy."})]})})]})]})]})}},14185:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(53986),a=s(9950);const r=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,l.A)(e,r);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const i=a.forwardRef(n)},36923:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(53986),a=s(9950);const r=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,l.A)(e,r);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=a.forwardRef(n)},39818:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(53986),a=s(9950);const r=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,l.A)(e,r);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const i=a.forwardRef(n)},52941:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(53986),a=s(9950);const r=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,l.A)(e,r);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const i=a.forwardRef(n)},64725:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(53986),a=s(9950);const r=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,l.A)(e,r);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const i=a.forwardRef(n)}}]);