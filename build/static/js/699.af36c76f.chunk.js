"use strict";(self.webpackChunkclient_portal_frontend=self.webpackChunkclient_portal_frontend||[]).push([[699],{2460:(t,e,a)=>{a.d(e,{B:()=>r});var n=a(22555),o=a(50237);const r=new class{async getSettings(t){return await o.apiService.get("/accounting/settings/".concat(t))}async saveSettings(t,e){return await o.apiService.post("/accounting/settings/".concat(t),e)}async getPermissions(t,e){return await o.apiService.get("/accounting/permissions/".concat(t,"/").concat(e))}async savePermissions(t,e){return await o.apiService.post("/accounting/permissions/".concat(t),e)}async getAllPermissions(t){return await o.apiService.get("/accounting/permissions/".concat(t))}async getIssuedInvoices(t,e){const a=new URLSearchParams;e&&Object.entries(e).forEach(t=>{let[e,n]=t;void 0!==n&&a.append(e,n.toString())});return await o.apiService.get("/accounting/issued-invoices/".concat(t,"?").concat(a))}async createIssuedInvoice(t,e){return await o.apiService.post("/accounting/issued-invoices/".concat(t),e)}async getIssuedInvoiceById(t){return await o.apiService.get("/accounting/issued-invoices/detail/".concat(t))}async getReceivedInvoices(t,e){const a=new URLSearchParams;e&&Object.entries(e).forEach(t=>{let[e,n]=t;void 0!==n&&a.append(e,n.toString())});return await o.apiService.get("/accounting/received-invoices/".concat(t,"?").concat(a))}async getReceivedInvoiceById(t){return await o.apiService.get("/accounting/received-invoices/detail/".concat(t))}async getPudSummary(t){return await o.apiService.get("/accounting/pud-summary/".concat(t))}async getFinancialAnalysis(t,e,a){let n="/accounting/financial-analysis/".concat(t);const r=new URLSearchParams;e&&r.append("dateFrom",e),a&&r.append("dateTo",a),r.toString()&&(n+="?".concat(r.toString()));return await o.apiService.get(n)}async getStats(t,e){const a=new URLSearchParams;e&&Object.entries(e).forEach(t=>{let[e,n]=t;void 0!==n&&a.append(e,n.toString())});return await o.apiService.get("/accounting/stats/".concat(t,"?").concat(a))}formatCurrency(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("sk-SK",{style:"currency",currency:e}).format(t)}formatDate(t){return new Date(t).toLocaleDateString("sk-SK")}getStatusBadge(t){return{draft:{text:"Koncept",color:"bg-gray-100 text-gray-800"},sent:{text:"Odoslan\xe1",color:"bg-blue-100 text-blue-800"},paid:{text:"Zaplaten\xe1",color:"bg-green-100 text-green-800"},overdue:{text:"Po splatnosti",color:"bg-red-100 text-red-800"},cancelled:{text:"Zru\u0161en\xe1",color:"bg-yellow-100 text-yellow-800"},received:{text:"Prijat\xe1",color:"bg-gray-100 text-gray-800"},approved:{text:"Schv\xe1len\xe1",color:"bg-blue-100 text-blue-800"},disputed:{text:"Sporn\xe1",color:"bg-orange-100 text-orange-800"}}[t]||{text:t,color:"bg-gray-100 text-gray-800"}}getTypeBadge(t){return{income:{text:"Pr\xedjem",color:"bg-green-100 text-green-800"},expense:{text:"V\xfddavok",color:"bg-red-100 text-red-800"}}[t]||{text:t,color:"bg-gray-100 text-gray-800"}}async testPohodaConnection(t,e){return await o.apiService.post("/accounting/test-pohoda-connection",(0,n.A)({companyId:t},e))}async testPohodaInvoices(t,e){return await o.apiService.post("/accounting/test-pohoda-invoices",(0,n.A)({companyId:t},e))}async syncPohodaInvoices(t,e,a){return await o.apiService.post("/accounting/sync-pohoda-invoices/".concat(t),{dateFrom:e,dateTo:a})}async uploadPohodaXml(t,e){const a=new FormData;a.append("xmlFile",e);const n=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/upload-pohoda-xml/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:a});if(!n.ok)throw new Error("Chyba pri nahr\xe1van\xed XML s\xfaboru");return await n.json()}async exportPohodaXml(t,e,a){const n=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/export-pohoda-xml/").concat(t,"?dateFrom=").concat(e||"","&dateTo=").concat(a||""),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!n.ok)throw new Error("Chyba pri exporte XML s\xfaboru");return await n.blob()}async refreshInvoicesFromMdb(t){const e=localStorage.getItem("dropbox_access_token");if(!e)throw new Error("Dropbox token nie je dostupn\xfd. Pripojte sa k Dropboxu.");const a=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/refresh-invoices/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok)throw new Error("Chyba pri obnoven\xed fakt\xfar z MDB");return await a.json()}async refreshReceivedInvoicesFromMdb(t){const e=localStorage.getItem("dropbox_access_token");if(!e)throw new Error("Dropbox token nie je dostupn\xfd. Pripojte sa k Dropboxu.");const a=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/refresh-received-invoices/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!a.ok)throw new Error("Chyba pri obnoven\xed prijat\xfdch fakt\xfar z MDB");return await a.json()}async importInvoicesFromMdb(t){const e=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/import-invoices/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Chyba pri importe fakt\xfar z MDB");return await e.json()}async deleteIssuedInvoice(t){return await o.apiService.delete("/accounting/issued-invoices/".concat(t))}async deleteReceivedInvoice(t){return await o.apiService.delete("/accounting/received-invoices/".concat(t))}async deleteBankTransaction(t){return await o.apiService.delete("/accounting/bank-transactions/".concat(t))}async deleteCashTransaction(t){return await o.apiService.delete("/accounting/cash-transactions/".concat(t))}async getDirectory(t){const e=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/directory/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Chyba pri na\u010d\xedtan\xed adres\xe1ra");return await e.json()}async getVatReturns(t,e){const a=e||(new Date).getFullYear(),n=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/vat-returns/").concat(t,"?year=").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!n.ok)throw new Error("Chyba pri na\u010d\xedtan\xed DPH podan\xed");return await n.json()}async getBankAccounts(t){console.log("\ud83c\udfe6 Vol\xe1m bankov\xfd endpoint pre companyId:",t);const e=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/bank-accounts/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83c\udfe6 Bankov\xfd endpoint response status:",e.status),!e.ok)throw new Error("Chyba pri na\u010d\xedtan\xed bankov\xfdch \xfa\u010dtov");const a=await e.json();return console.log("\ud83c\udfe6 Bankov\xfd endpoint response data:",a),a}async getCashAccounts(t){const e=await fetch("".concat("https://musical-stardust-faabdb.netlify.app","/api/accounting/cash-accounts/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Chyba pri na\u010d\xedtan\xed poklad\u0148ov\xfdch \xfa\u010dtov");return await e.json()}async getBankTransactions(t,e){console.log("\ud83c\udfe6 Vol\xe1m bankov\xfd transak\u010dn\xfd endpoint pre companyId:",t,"accountNumber:",e);const a=await fetch("http://localhost:5000/api/accounting/bank-transactions/".concat(t,"/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83c\udfe6 Bankov\xfd transak\u010dn\xfd endpoint response status:",a.status),!a.ok)throw new Error("Chyba pri na\u010d\xedtan\xed bankov\xfdch transakci\xed");const n=await a.json();return console.log("\ud83c\udfe6 Bankov\xfd transak\u010dn\xfd endpoint response data:",n),n}async getCashTransactions(t,e){console.log("\ud83d\udcb0 Vol\xe1m poklad\u0148ov\xfd transak\u010dn\xfd endpoint pre companyId:",t,"accountNumber:",e);const a=await fetch("http://localhost:5000/api/accounting/cash-transactions/".concat(t,"/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83d\udcb0 Poklad\u0148ov\xfd transak\u010dn\xfd endpoint response status:",a.status),!a.ok)throw new Error("Chyba pri na\u010d\xedtan\xed poklad\u0148ov\xfdch transakci\xed");const n=await a.json();return console.log("\ud83d\udcb0 Poklad\u0148ov\xfd transak\u010dn\xfd endpoint response data:",n),n}}},14185:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const i=o.forwardRef(c)},16467:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const i=o.forwardRef(c)},19530:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const i=o.forwardRef(c)},30017:(t,e,a)=>{a.d(e,{A:()=>i});a(9950);var n=a(36923),o=a(53365),r=a(75516),c=a(44414);const i=t=>{let{invoices:e,type:a}=t;const i=t=>null===t||void 0===t||isNaN(t)?"0,00 \u20ac":new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}).format(t),s=(()=>{const t=new Date,a={totalAmount:0,totalCount:0,unpaidAmount:0,unpaidCount:0,overdueAmount:0,overdueCount:0};return e.forEach(e=>{const n=parseFloat(e.total_amount)||0,o=new Date(e.due_date)<t,r=parseFloat(e.kc_likv)||0,c=0===r;a.totalAmount+=n,a.totalCount++,c||(a.unpaidAmount+=r,a.unpaidCount++,o&&(a.overdueAmount+=r,a.overdueCount++))}),a})();return(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,c.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Sum\xe1r ","issued"===a?"vydan\xfdch":"prijat\xfdch"," fakt\xfar"]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(o.A,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Celkov\xe1 suma"}),(0,c.jsx)("p",{className:"text-xl font-bold text-blue-900",children:i(s.totalAmount)}),(0,c.jsxs)("p",{className:"text-xs text-blue-600",children:[s.totalCount," fakt\xfar"]})]})]})}),(0,c.jsx)("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(r.A,{className:"h-6 w-6 text-red-600 mr-2"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Nezaplaten\xe9"}),(0,c.jsx)("p",{className:"text-xl font-bold text-red-900",children:i(s.unpaidAmount)}),(0,c.jsxs)("p",{className:"text-xs text-red-600",children:[s.unpaidCount," fakt\xfar"]})]})]})}),(0,c.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(n.A,{className:"h-6 w-6 text-yellow-600 mr-2"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm font-medium text-yellow-600",children:"Po splatnosti"}),(0,c.jsx)("p",{className:"text-xl font-bold text-yellow-900",children:i(s.overdueAmount)}),(0,c.jsxs)("p",{className:"text-xs text-yellow-600",children:[s.overdueCount," fakt\xfar"]})]})]})})]})]})}},33695:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const i=o.forwardRef(c)},36923:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=o.forwardRef(c)},39818:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const i=o.forwardRef(c)},46536:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const i=o.forwardRef(c)},50619:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const i=o.forwardRef(c)},53365:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=o.forwardRef(c)},57491:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const i=o.forwardRef(c)},75516:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(53986),o=a(9950);const r=["title","titleId"];function c(t,e){let{title:a,titleId:c}=t,i=(0,n.A)(t,r);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},i),a?o.createElement("title",{id:c},a):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const i=o.forwardRef(c)}}]);