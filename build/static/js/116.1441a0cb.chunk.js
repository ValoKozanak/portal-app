"use strict";(self.webpackChunkclient_portal_frontend=self.webpackChunkclient_portal_frontend||[]).push([[116],{14185:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(53986),r=s(9950);const l=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const i=r.forwardRef(n)},36923:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(53986),r=s(9950);const l=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=r.forwardRef(n)},39818:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(53986),r=s(9950);const l=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const i=r.forwardRef(n)},52941:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(53986),r=s(9950);const l=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const i=r.forwardRef(n)},64725:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(53986),r=s(9950);const l=["title","titleId"];function n(e,t){let{title:s,titleId:n}=e,i=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),s?r.createElement("title",{id:n},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const i=r.forwardRef(n)},92116:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(9950),r=s(14185),l=s(7342),n=s(36923),i=s(64725),o=s(15536),c=s(39818),d=s(52941),m=s(64112),x=s(22555);const h="allTasks";const g=new class{getTasksFromStorage(){try{const e=localStorage.getItem(h);return e?JSON.parse(e):[]}catch(e){return console.error("Chyba pri na\u010d\xedtan\xed \xfaloh:",e),[]}}saveTasksToStorage(e){try{localStorage.setItem(h,JSON.stringify(e))}catch(t){console.error("Chyba pri ukladan\xed \xfaloh:",t)}}async getAllTasks(){return Promise.resolve(this.getTasksFromStorage())}async getTasksByCompany(e){const t=this.getTasksFromStorage();return Promise.resolve(t.filter(t=>t.companyId===e))}async getTasksByAccountant(e){const t=this.getTasksFromStorage();return Promise.resolve(t.filter(t=>t.assignedToEmail===e))}async addTask(e){const t=this.getTasksFromStorage(),s=(0,x.A)((0,x.A)({},e),{},{id:Date.now().toString(),createdAt:(new Date).toISOString()});return t.push(s),this.saveTasksToStorage(t),Promise.resolve(s)}async updateTask(e,t){const s=this.getTasksFromStorage(),a=s.findIndex(t=>t.id===e);return-1===a?Promise.resolve(null):(s[a]=(0,x.A)((0,x.A)({},s[a]),t),this.saveTasksToStorage(s),Promise.resolve(s[a]))}async deleteTask(e){const t=this.getTasksFromStorage(),s=t.filter(t=>t.id!==e);return s.length===t.length?Promise.resolve(!1):(this.saveTasksToStorage(s),Promise.resolve(!0))}initializeDefaultTasks(){if(this.getTasksFromStorage().length>0)return;this.saveTasksToStorage([{id:"1",title:"Dokon\u010di\u0165 v\xfdro\u010dn\xfa spr\xe1vu 2024",description:"Pripravi\u0165 a dokon\u010di\u0165 v\xfdro\u010dn\xfa spr\xe1vu za rok 2024, vr\xe1tane v\u0161etk\xfdch pr\xedloh a dokument\xe1cie.",status:"pending",priority:"high",assignedTo:"Mgr. Jana Nov\xe1kov\xe1",assignedToEmail:"accountant@portal.sk",dueDate:"2024-12-20",createdAt:"2024-12-01T10:00:00Z",createdBy:"Admin",category:"accounting",estimatedHours:16,companyId:1,companyName:"Test Firma s.r.o."},{id:"2",title:"Overi\u0165 DPH priznanie Q4",description:"Kontrola a overenie DPH priznania za 4. \u0161tvr\u0165rok 2024 pred odoslan\xedm.",status:"in_progress",priority:"high",assignedTo:"Ing. Peter Kov\xe1\u010d",assignedToEmail:"accountant@portal.sk",dueDate:"2024-12-18",createdAt:"2024-12-05T14:30:00Z",createdBy:"Admin",category:"tax",estimatedHours:8,companyId:1,companyName:"Test Firma s.r.o."},{id:"3",title:"Aktualizova\u0165 firemn\xe9 \xfadaje",description:"Aktualiz\xe1cia firemn\xfdch \xfadajov v registri a notifik\xe1cia zmien \xfaradom.",status:"completed",priority:"medium",assignedTo:"Mgr. Anna Svobodov\xe1",assignedToEmail:"accountant@portal.sk",dueDate:"2024-12-15",createdAt:"2024-12-10T09:15:00Z",createdBy:"Admin",category:"hr",estimatedHours:4,companyId:1,companyName:"Test Firma s.r.o."}])}};"undefined"!==typeof window&&g.initializeDefaultTasks();var u=s(44414);const p=e=>{let{onBack:t}=e;const[s,x]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0),[v,y]=(0,a.useState)(""),[f,j]=(0,a.useState)("all");(0,a.useEffect)(()=>{(async()=>{try{p(!0);const e=await g.getAllTasks();x(e)}catch(e){console.error("Chyba pri na\u010d\xedtan\xed \xfaloh:",e)}finally{p(!1)}})()},[]);const b=s.filter(e=>{const t=e.title.toLowerCase().includes(v.toLowerCase())||e.description.toLowerCase().includes(v.toLowerCase())||e.assignedTo.toLowerCase().includes(v.toLowerCase()),s="all"===f||e.status===f;return t&&s}),w=async(e,t)=>{try{const s=await g.updateTask(e,{status:t});s&&x(t=>t.map(t=>t.id===e?s:t))}catch(s){console.error("Chyba pri aktualiz\xe1cii \xfalohy:",s),alert("Chyba pri aktualiz\xe1cii \xfalohy")}},N={total:s.length,pending:s.filter(e=>"pending"===e.status).length,inProgress:s.filter(e=>"in_progress"===e.status).length,completed:s.filter(e=>"completed"===e.status).length,cancelled:s.filter(e=>"cancelled"===e.status).length};return(0,u.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,u.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,u.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,u.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsxs)("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,u.jsx)(r.A,{className:"h-5 w-5 mr-2"}),"Sp\xe4\u0165 do Dashboardu"]}),(0,u.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(l.A,{className:"h-8 w-8 text-green-500 mr-3"}),(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Spr\xe1va \xfaloh"})]})]})})})}),(0,u.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(l.A,{className:"h-8 w-8 text-blue-500"}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Celkovo"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(n.A,{className:"h-8 w-8 text-yellow-500"}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\u010cakaj\xface"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.pending})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(n.A,{className:"h-8 w-8 text-blue-500"}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"V spracovan\xed"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.inProgress})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(i.A,{className:"h-8 w-8 text-green-500"}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Dokon\u010den\xe9"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.completed})]})]})}),(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(o.A,{className:"h-8 w-8 text-gray-500"}),(0,u.jsxs)("div",{className:"ml-3",children:[(0,u.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Zru\u0161en\xe9"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.cancelled})]})]})})]}),(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,u.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Zoznam \xfaloh"}),(0,u.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Celkovo ",b.length," \xfaloh z ",s.length]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:[(0,u.jsx)("option",{value:"all",children:"V\u0161etky statusy"}),(0,u.jsx)("option",{value:"pending",children:"\u010cakaj\xface"}),(0,u.jsx)("option",{value:"in_progress",children:"V spracovan\xed"}),(0,u.jsx)("option",{value:"completed",children:"Dokon\u010den\xe9"}),(0,u.jsx)("option",{value:"cancelled",children:"Zru\u0161en\xe9"})]}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,u.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,u.jsx)("input",{type:"text",placeholder:"Vyh\u013eada\u0165 \xfalohu...",value:v,onChange:e=>y(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500 sm:text-sm"})]})]})]})}),(0,u.jsx)("div",{className:"p-6",children:h?(0,u.jsxs)("div",{className:"text-center py-12",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,u.jsx)("p",{className:"mt-4 text-gray-600",children:"Na\u010d\xedtavam \xfalohy..."})]}):b.length>0?(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(e=>{return(0,u.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 hover:shadow-md transition-shadow border border-gray-200",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.title}),(0,u.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,u.jsx)(d.A,{className:"h-4 w-4 mr-1"}),e.dueDate]}),(0,u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,u.jsx)(m.A,{className:"h-4 w-4 mr-1"}),e.assignedTo]})]}),(0,u.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[(s=e.status,(0,u.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",in_progress:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"),children:{pending:"\u010cakaj\xface",completed:"Dokon\u010den\xe9",in_progress:"V spracovan\xed",cancelled:"Zru\u0161en\xe9"}[s]||s})),(t=e.priority,(0,u.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat({low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[t]||"bg-gray-100 text-gray-800"),children:{low:"N\xedzka",medium:"Stredn\xe1",high:"Vysok\xe1",urgent:"Urgentn\xe1"}[t]||t}))]})]}),(0,u.jsx)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:(0,u.jsxs)("div",{className:"flex space-x-2",children:["completed"!==e.status&&(0,u.jsxs)("button",{onClick:()=>w(e.id,"completed"),className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:[(0,u.jsx)(i.A,{className:"h-4 w-4 mr-1"}),"Dokon\u010di\u0165"]}),"pending"===e.status&&(0,u.jsxs)("button",{onClick:()=>w(e.id,"in_progress"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[(0,u.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Spusti\u0165"]}),"cancelled"!==e.status&&(0,u.jsxs)("button",{onClick:()=>w(e.id,"cancelled"),className:"text-gray-600 hover:text-gray-700 text-sm font-medium flex items-center",children:[(0,u.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Zru\u0161i\u0165"]}),(0,u.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Naozaj chcete vymaza\u0165 t\xfato \xfalohu?"))try{await g.deleteTask(e)&&x(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Chyba pri mazan\xed \xfalohy:",t),alert("Chyba pri mazan\xed \xfalohy")}})(e.id),className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center",children:[(0,u.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Vymaza\u0165"]})]})})]},e.id);var t,s})}):(0,u.jsxs)("div",{className:"text-center py-12",children:[(0,u.jsx)(l.A,{className:"mx-auto h-16 w-16 text-gray-400"}),(0,u.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:v||"all"!==f?"\u017diadne \xfalohy nen\xe1jden\xe9":"\u017diadne \xfalohy"}),(0,u.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:v||"all"!==f?"Sk\xfaste zmeni\u0165 vyh\u013ead\xe1vac\xed v\xfdraz alebo filter.":"Zatia\u013e neboli vytvoren\xe9 \u017eiadne \xfalohy."})]})})]})]})]})}}}]);