"use strict";(self.webpackChunkportal_app=self.webpackChunkportal_app||[]).push([[323],{7449:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const i=r.forwardRef(c)},18299:(e,t,a)=>{a.d(t,{B:()=>o});var n=a(22555),r=a(39304);const o=new class{async getSettings(e){return await r.apiService.get("/accounting/settings/".concat(e))}async saveSettings(e,t){return await r.apiService.post("/accounting/settings/".concat(e),t)}async getPermissions(e,t){return await r.apiService.get("/accounting/permissions/".concat(e,"/").concat(t))}async savePermissions(e,t){return await r.apiService.post("/accounting/permissions/".concat(e),t)}async getAllPermissions(e){return await r.apiService.get("/accounting/permissions/".concat(e))}async getIssuedInvoices(e,t){const a=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,n]=e;void 0!==n&&a.append(t,n.toString())});return await r.apiService.get("/accounting/issued-invoices/".concat(e,"?").concat(a))}async createIssuedInvoice(e,t){return await r.apiService.post("/accounting/issued-invoices/".concat(e),t)}async getIssuedInvoiceById(e){return await r.apiService.get("/accounting/issued-invoices/detail/".concat(e))}async getReceivedInvoices(e,t){const a=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,n]=e;void 0!==n&&a.append(t,n.toString())});return await r.apiService.get("/accounting/received-invoices/".concat(e,"?").concat(a))}async getReceivedInvoiceById(e){return await r.apiService.get("/accounting/received-invoices/detail/".concat(e))}async getPudSummary(e){return await r.apiService.get("/accounting/pud-summary/".concat(e))}async getFinancialAnalysis(e,t,a){let n="/accounting/financial-analysis/".concat(e);const o=new URLSearchParams;t&&o.append("dateFrom",t),a&&o.append("dateTo",a),o.toString()&&(n+="?".concat(o.toString()));return await r.apiService.get(n)}async getStats(e,t){const a=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,n]=e;void 0!==n&&a.append(t,n.toString())});return await r.apiService.get("/accounting/stats/".concat(e,"?").concat(a))}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("sk-SK",{style:"currency",currency:t}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("sk-SK")}getStatusBadge(e){return{draft:{text:"Koncept",color:"bg-gray-100 text-gray-800"},sent:{text:"Odoslan\xe1",color:"bg-blue-100 text-blue-800"},paid:{text:"Zaplaten\xe1",color:"bg-green-100 text-green-800"},overdue:{text:"Po splatnosti",color:"bg-red-100 text-red-800"},cancelled:{text:"Zru\u0161en\xe1",color:"bg-yellow-100 text-yellow-800"},received:{text:"Prijat\xe1",color:"bg-gray-100 text-gray-800"},approved:{text:"Schv\xe1len\xe1",color:"bg-blue-100 text-blue-800"},disputed:{text:"Sporn\xe1",color:"bg-orange-100 text-orange-800"}}[e]||{text:e,color:"bg-gray-100 text-gray-800"}}getTypeBadge(e){return{income:{text:"Pr\xedjem",color:"bg-green-100 text-green-800"},expense:{text:"V\xfddavok",color:"bg-red-100 text-red-800"}}[e]||{text:e,color:"bg-gray-100 text-gray-800"}}async testPohodaConnection(e,t){return await r.apiService.post("/accounting/test-pohoda-connection",(0,n.A)({companyId:e},t))}async testPohodaInvoices(e,t){return await r.apiService.post("/accounting/test-pohoda-invoices",(0,n.A)({companyId:e},t))}async syncPohodaInvoices(e,t,a){return await r.apiService.post("/accounting/sync-pohoda-invoices/".concat(e),{dateFrom:t,dateTo:a})}async uploadPohodaXml(e,t){const a=new FormData;a.append("xmlFile",t);const n=await fetch("http://localhost:5000/api/accounting/upload-pohoda-xml/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:a});if(!n.ok)throw new Error("Chyba pri nahr\xe1van\xed XML s\xfaboru");return await n.json()}async exportPohodaXml(e,t,a){const n=await fetch("http://localhost:5000/api/accounting/export-pohoda-xml/".concat(e,"?dateFrom=").concat(t||"","&dateTo=").concat(a||""),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!n.ok)throw new Error("Chyba pri exporte XML s\xfaboru");return await n.blob()}async refreshInvoicesFromMdb(e){const t=await fetch("http://localhost:5000/api/accounting/refresh-invoices/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Chyba pri obnoven\xed fakt\xfar z MDB");return await t.json()}async refreshReceivedInvoicesFromMdb(e){const t=await fetch("http://localhost:5000/api/accounting/refresh-received-invoices/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Chyba pri obnoven\xed prijat\xfdch fakt\xfar z MDB");return await t.json()}async importInvoicesFromMdb(e){const t=await fetch("http://localhost:5000/api/accounting/import-invoices/".concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Chyba pri importe fakt\xfar z MDB");return await t.json()}async deleteIssuedInvoice(e){return await r.apiService.delete("/accounting/issued-invoices/".concat(e))}async deleteReceivedInvoice(e){return await r.apiService.delete("/accounting/received-invoices/".concat(e))}async deleteBankTransaction(e){return await r.apiService.delete("/accounting/bank-transactions/".concat(e))}async deleteCashTransaction(e){return await r.apiService.delete("/accounting/cash-transactions/".concat(e))}async getDirectory(e){const t=await fetch("http://localhost:5000/api/accounting/directory/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Chyba pri na\u010d\xedtan\xed adres\xe1ra");return await t.json()}async getVatReturns(e,t){const a=t||(new Date).getFullYear(),n=await fetch("http://localhost:5000/api/accounting/vat-returns/".concat(e,"?year=").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!n.ok)throw new Error("Chyba pri na\u010d\xedtan\xed DPH podan\xed");return await n.json()}async getBankAccounts(e){console.log("\ud83c\udfe6 Vol\xe1m bankov\xfd endpoint pre companyId:",e);const t=await fetch("http://localhost:5000/api/accounting/bank-accounts/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83c\udfe6 Bankov\xfd endpoint response status:",t.status),!t.ok)throw new Error("Chyba pri na\u010d\xedtan\xed bankov\xfdch \xfa\u010dtov");const a=await t.json();return console.log("\ud83c\udfe6 Bankov\xfd endpoint response data:",a),a}async getCashAccounts(e){const t=await fetch("http://localhost:5000/api/accounting/cash-accounts/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Chyba pri na\u010d\xedtan\xed poklad\u0148ov\xfdch \xfa\u010dtov");return await t.json()}async getBankTransactions(e,t){console.log("\ud83c\udfe6 Vol\xe1m bankov\xfd transak\u010dn\xfd endpoint pre companyId:",e,"accountNumber:",t);const a=await fetch("http://localhost:5000/api/accounting/bank-transactions/".concat(e,"/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83c\udfe6 Bankov\xfd transak\u010dn\xfd endpoint response status:",a.status),!a.ok)throw new Error("Chyba pri na\u010d\xedtan\xed bankov\xfdch transakci\xed");const n=await a.json();return console.log("\ud83c\udfe6 Bankov\xfd transak\u010dn\xfd endpoint response data:",n),n}async getCashTransactions(e,t){console.log("\ud83d\udcb0 Vol\xe1m poklad\u0148ov\xfd transak\u010dn\xfd endpoint pre companyId:",e,"accountNumber:",t);const a=await fetch("http://localhost:5000/api/accounting/cash-transactions/".concat(e,"/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(console.log("\ud83d\udcb0 Poklad\u0148ov\xfd transak\u010dn\xfd endpoint response status:",a.status),!a.ok)throw new Error("Chyba pri na\u010d\xedtan\xed poklad\u0148ov\xfdch transakci\xed");const n=await a.json();return console.log("\ud83d\udcb0 Poklad\u0148ov\xfd transak\u010dn\xfd endpoint response data:",n),n}}},18662:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const i=r.forwardRef(c)},26238:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const i=r.forwardRef(c)},62811:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const i=r.forwardRef(c)},82323:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(65043),r=a(73216),o=a(85442),c=a(26238),i=a(89531),s=a(7449),l=a(62811),d=a(18662),p=a(39274),h=a(18299),g=a(70579);const u=()=>{const e=(0,r.Zp)(),[t,a]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[x,y]=(0,n.useState)(""),[w,v]=(0,n.useState)(3);(0,n.useEffect)(()=>{k()},[w]);const k=async()=>{try{m(!0);const e=await h.B.getDirectory(w);a(e.companies||[])}catch(e){console.error("Chyba pri na\u010d\xedtan\xed adres\xe1ra:",e)}finally{m(!1)}},f=t.filter(e=>{var t,a,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(a=e.ico)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase()))||(null===(n=e.dic)||void 0===n?void 0:n.toLowerCase().includes(x.toLowerCase()))||(null===(r=e.city)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()))}),b=e=>{console.log("Editova\u0165 firmu:",e),alert("Editova\u0165 firmu: ".concat(e.name))};return u?(0,g.jsx)(p.A,{}):(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900",children:[(0,g.jsx)("div",{className:"bg-white dark:bg-dark-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,g.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,g.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,g.jsx)("div",{className:"flex items-center",children:(0,g.jsxs)("button",{onClick:()=>e("/accounting"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,g.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Sp\xe4\u0165 na \xda\u010dtovn\xedctvo"]})}),(0,g.jsx)("div",{className:"flex items-center",children:(0,g.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Adres\xe1r"})})]})})}),(0,g.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,g.jsxs)("div",{className:"bg-white dark:bg-dark-800 shadow rounded-lg mb-6",children:[(0,g.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Firmy v adres\xe1ri"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(s.A,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,g.jsx)("input",{type:"text",placeholder:"H\u013eada\u0165 firmy...",value:x,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,g.jsx)("div",{className:"flex items-center space-x-2",children:(0,g.jsxs)("button",{onClick:()=>{console.log("Vytvori\u0165 nov\xfa firmu"),alert("Vytvori\u0165 nov\xfa firmu")},className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,g.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Nov\xe1 firma"]})})]})}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,g.jsx)("thead",{className:"bg-gray-50 dark:bg-dark-700",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"N\xe1zov firmy"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"I\u010cO"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"DI\u010c"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Adresa"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Telef\xf3n"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Bankov\xfd \xfa\u010det"}),(0,g.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Akcie"})]})}),(0,g.jsx)("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-gray-700",children:u?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"Na\u010d\xedtavam firmy..."})}):0===f.length?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"\u017diadne firmy neboli n\xe1jden\xe9"})}):f.map(e=>(0,g.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700",children:[(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(c.A,{className:"h-5 w-5 text-gray-400 mr-2"}),e.name]})}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.ico}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.dic||"-"}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.address&&e.city?"".concat(e.address,", ").concat(e.postal_code," ").concat(e.city):e.address||e.city||"-"}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.phone||"-"}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.email||"-"}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.bank_account&&e.bank_code?"".concat(e.bank_account,"/").concat(e.bank_code):e.bank_account||"-"}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)("button",{onClick:()=>b(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:(0,g.jsx)(i.A,{className:"h-4 w-4"})}),(0,g.jsx)("button",{onClick:()=>b(e),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:(0,g.jsx)(l.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})})]})}},85442:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const i=r.forwardRef(c)},89531:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(53986),r=a(65043);const o=["title","titleId"];function c(e,t){let{title:a,titleId:c}=e,i=(0,n.A)(e,o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":c},i),a?r.createElement("title",{id:c},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const i=r.forwardRef(c)}}]);
//# sourceMappingURL=323.f9ac7968.chunk.js.map