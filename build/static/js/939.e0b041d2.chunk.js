"use strict";(self.webpackChunkclient_portal_frontend=self.webpackChunkclient_portal_frontend||[]).push([[939],{2765:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const l=s.forwardRef(o)},4206:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const l=s.forwardRef(o)},11939:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var a=r(22555),s=r(9950),n=r(14185),o=r(81714),l=r(2599),i=r(52941),d=r(2765),c=r(4206),m=r(14776),u=r(81518),x=r(82777),h=r(75516),p=r(83375),g=r(50259),v=r(50237),f=r(44414);const b=e=>{let{onBack:t}=e;const[r,b]=(0,s.useState)([]),[w,j]=(0,s.useState)(null),[y,k]=(0,s.useState)({}),[A,N]=(0,s.useState)(""),[E,O]=(0,s.useState)(""),M=[{id:"issued-invoices",name:"Vydan\xe9 fakt\xfary",description:"Export vydan\xfdch fakt\xfar do POHODA XML form\xe1tu",icon:x.A,color:"text-blue-600",status:"available",endpoint:"/accounting/export-pohoda-xml",hasDateFilter:!0},{id:"received-invoices",name:"Prijat\xe9 fakt\xfary",description:"Export prijat\xfdch fakt\xfar do POHODA XML form\xe1tu",icon:u.A,color:"text-green-600",status:"coming-soon",hasDateFilter:!0},{id:"bank-transactions",name:"Bankov\xe9 pohyby",description:"Export bankov\xfdch pohybov do POHODA XML form\xe1tu",icon:o.A,color:"text-yellow-600",status:"coming-soon",hasDateFilter:!0},{id:"cash-transactions",name:"Poklad\u0148a",description:"Export poklad\u0148ov\xfdch pohybov do POHODA XML form\xe1tu",icon:m.A,color:"text-purple-600",status:"coming-soon",hasDateFilter:!0},{id:"partners",name:"Partneri",description:"Export partnerov do POHODA XML form\xe1tu",icon:l.A,color:"text-indigo-600",status:"coming-soon",hasDateFilter:!1},{id:"employees",name:"Zamestnanci",description:"Export zamestnancov do POHODA XML form\xe1tu",icon:g.A,color:"text-pink-600",status:"coming-soon",hasDateFilter:!1},{id:"settings",name:"Nastavenia",description:"Export nastaven\xed do POHODA XML form\xe1tu",icon:c.A,color:"text-gray-600",status:"coming-soon",hasDateFilter:!1}];(0,s.useEffect)(()=>{L();const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,e.getDate());N(t.toISOString().split("T")[0]),O(e.toISOString().split("T")[0])},[]);const L=async()=>{try{const e=await v.apiService.getAllCompanies();b(e),e.length>0&&j(e[0].id)}catch(e){console.error("Chyba pri na\u010d\xedtan\xed firiem:",e)}},D=e=>{switch(e){case"exporting":return(0,f.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"});case"success":return(0,f.jsx)(d.A,{className:"h-5 w-5 text-green-500"});case"error":return(0,f.jsx)(h.A,{className:"h-5 w-5 text-red-500"});default:return null}},H=e=>{switch(e){case"exporting":return"Exportujem...";case"success":return"Export \xfaspe\u0161n\xfd";case"error":return"Chyba exportu";default:return""}};return(0,f.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,f.jsx)("div",{className:"bg-white shadow",children:(0,f.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,f.jsx)("div",{className:"flex justify-between h-16",children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("button",{onClick:t,className:"mr-4 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,f.jsx)(n.A,{className:"h-6 w-6"})}),(0,f.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"POHODA Export"})]})})})}),(0,f.jsxs)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[(0,f.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsx)(p.A,{className:"h-5 w-5 text-blue-400 mt-0.5"}),(0,f.jsxs)("div",{className:"ml-3",children:[(0,f.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"POHODA Export - Inform\xe1cie"}),(0,f.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[(0,f.jsx)("p",{children:"Exportujte d\xe1ta zo syst\xe9mu do POHODA XML form\xe1tu. Vyberte typ exportu a firmu."}),(0,f.jsx)("p",{className:"mt-1",children:"Dostupn\xe9 s\xfa r\xf4zne typy exportov pre fakt\xfary, pohyby a \u010fal\u0161ie d\xe1ta."})]})]})]})}),(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,f.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Nastavenia exportu"}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Firma"}),(0,f.jsx)("select",{value:w||"",onChange:e=>j(Number(e.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:r.map(e=>(0,f.jsxs)("option",{value:e.id,children:[e.name," (",e.ico,")"]},e.id))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Od d\xe1tumu"}),(0,f.jsx)("input",{type:"date",value:A,onChange:e=>N(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Do d\xe1tumu"}),(0,f.jsx)("input",{type:"date",value:E,onChange:e=>O(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]})]}),(0,f.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>{const t=e.icon,r="available"===e.status&&w,s=y[e.id];return(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border-2 ".concat(r?"border-gray-200 hover:border-blue-300":"border-gray-100 opacity-60"),children:[(0,f.jsxs)("div",{className:"flex items-start justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 ".concat(e.color.replace("text-","bg-").replace("-600","-100")),children:(0,f.jsx)(t,{className:"h-6 w-6 ".concat(e.color)})}),(0,f.jsxs)("div",{className:"ml-4",children:[(0,f.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,f.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),e.hasDateFilter&&(0,f.jsxs)("div",{className:"flex items-center mt-2 text-xs text-gray-400",children:[(0,f.jsx)(i.A,{className:"h-3 w-3 mr-1"}),"S d\xe1tumov\xfdm filtrom"]})]})]}),s&&(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[D(s),(0,f.jsx)("span",{className:"text-sm text-gray-600",children:H(s)})]})]}),(0,f.jsx)("div",{className:"mt-4",children:"available"===e.status?(0,f.jsx)("button",{onClick:()=>(async e=>{if("available"===e.status&&w){k(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:"exporting"}));try{await new Promise(e=>setTimeout(e,2e3)),k(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:"success"})),setTimeout(()=>{k(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:""}))},3e3)}catch(t){k(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:"error"}))}}})(e),disabled:!r||"exporting"===s,className:"w-full px-4 py-2 rounded-md text-sm font-medium ".concat(r&&"exporting"!==s?"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"exporting"===s?"Exportujem...":"Exportova\u0165"}):(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("span",{className:"text-sm text-gray-500",children:"coming-soon"===e.status?"\u010coskoro dostupn\xe9":"Nedostupn\xe9"}),(0,f.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:"coming-soon"===e.status?"SOON":"N/A"})]})})]},e.id)})}),(0,f.jsxs)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,f.jsx)("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Pokyny pre export"}),(0,f.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,f.jsx)("li",{children:"\u2022 Export sa vykon\xe1va pre vybran\xfa firmu"}),(0,f.jsx)("li",{children:"\u2022 D\xe1tumov\xfd filter sa aplikuje na relevantn\xe9 typy d\xe1t"}),(0,f.jsx)("li",{children:"\u2022 Exportovan\xe9 s\xfabory s\xfa vo form\xe1te POHODA dataPack"}),(0,f.jsx)("li",{children:"\u2022 S\xfabory sa automaticky stiahnu do v\xe1\u0161ho po\u010d\xedta\u010da"}),(0,f.jsx)("li",{children:"\u2022 Export obsahuje v\u0161etky dostupn\xe9 d\xe1ta pre dan\xfd typ"})]})]})]})]})}},14185:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const l=s.forwardRef(o)},14776:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const l=s.forwardRef(o)},50259:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const l=s.forwardRef(o)},52941:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const l=s.forwardRef(o)},81518:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const l=s.forwardRef(o)},81714:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const l=s.forwardRef(o)},83375:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(53986),s=r(9950);const n=["title","titleId"];function o(e,t){let{title:r,titleId:o}=e,l=(0,a.A)(e,n);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},l),r?s.createElement("title",{id:o},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const l=s.forwardRef(o)}}]);